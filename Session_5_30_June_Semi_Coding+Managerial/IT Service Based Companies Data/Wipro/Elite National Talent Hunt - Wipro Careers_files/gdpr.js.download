"use strict";function setConsent(a,b,c,d){var e=new XMLHttpRequest;e.open("POST","/api/consent",!0),e.setRequestHeader("dataType","application/json"),e.setRequestHeader("Content-type","application/json; charset=utf-8");var f=JSON.stringify({cookie:a,type:b,value:c,timestamp:(new Date).toISOString()});e.onreadystatechange=function(){4==e.readyState&&200==e.status?(window.gdprConfiguration[a]=!1,console.log("consent successfully logged"),d(null,e.response)):(console.log("Consent Error",e,e.status),d(e,null))},e.send(f)}function setApplyConsent(a){setConsent("apply_consent","apply_consent",!0,function(b,c){return b&&console.log("Error Saving Consent",b),window.location.href=a})}function GDPR(){var a;return{getCookies:function(){return{apply_consent:$&&"function"==typeof $.cookie&&$.cookie().apply_consent,pixel_consent:$&&"function"==typeof $.cookie&&$.cookie().pixel_consent}},registerListeners:function(a,b){a.pixel_consent&&a.pixel_consent.enabled&&a.pixel_consent.show_consent&&(void 0===b.pixel_consent&&setTimeout(function(){$("#pixel-consent-container").fadeIn(200).css({display:"flex"})},1e3),$("#pixel-consent-accept-button").click(function(){setConsent("pixel_consent","third_party",!0,function(a,b){a||$("#pixel-consent-container").fadeOut(200)})}),$("#pixel-consent-deny-button").click(function(){setConsent("pixel_consent","third_party",!1,function(a,b){a||$("#pixel-consent-container").fadeOut(200)})}),$("#cookie-consent-accept-button").click(function(){setConsent("pixel_consent","cookie_notice",!0,function(a,b){a||$("#pixel-consent-container").fadeOut(200)})}),$("#cookie-consent-accept-button").on("keyup",function(a){"Enter"===a.key&&setConsent("pixel_consent","cookie_notice",!0,function(a,b){a||$("#pixel-consent-container").fadeOut(200)})}),$("#cookie-consent-x").click(function(){setConsent("pixel_consent","cookie_notice",!0,function(a,b){a||$("#pixel-consent-container").fadeOut(200)})}),$("#cookie-consent-x").on("keyup",function(a){"Enter"===a.key&&setConsent("pixel_consent","cookie_notice",!0,function(a,b){a||$("#pixel-consent-container").fadeOut(200)})}),$("#cookie-consent-deny-button").click(function(){setConsent("pixel_consent","cookie_notice",!1,function(a,b){a||$("#pixel-consent-container").fadeOut(200)})}))},init:function(){a=this;var b=window.gdprConfiguration,c=a.getCookies();console.log("gdpr module loaded",c,b),b&&b.enabled&&a.registerListeners(b,c)}}}document.onreadystatechange=function(){if("undefined"!=typeof $){(new GDPR).init()}else if("complete"===document.readyState)var a=setInterval(function(){if("undefined"!=typeof $){(new GDPR).init(),clearInterval(a)}},100)};